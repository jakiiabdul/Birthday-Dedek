<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Birthday Dedekk</title>
<style>
body {
  font-family: 'Comic Sans MS', cursive, sans-serif;
  background: #ffd1dc; /* pastel pink */
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
  margin: 0;
  overflow: hidden;
}
.container {
  position: relative;
  z-index: 10; /* Supaya form/input berada di atas balon & assets */
  background: rgba(255,255,255,0.95);
  padding: 30px;
  border-radius: 20px;
  box-shadow: 0 10px 25px rgba(0,0,0,0.3);
  text-align: center;
  width: 500px;
  max-height: 90vh;
  overflow-y: auto;
}
input, select, button {
  margin: 10px 0;
  padding: 10px;
  width: 90%;
  border-radius: 10px;
  border: 1px solid #ccc;
  font-size: 14px;
}
button {
  background: #ee9ca7;
  color: white;
  border: none;
  cursor: pointer;
  transition: 0.3s;
}
button:hover { background: #ff758c; }
.hidden { display: none !important; }
.result { font-weight: bold; margin-top: 15px; font-size: 16px; }
.message-box { 
  display: flex;
  flex-direction: column;
  gap: 40px; 
  margin-top: 20px;
}
.message-item {
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 20px;
  justify-content: center;
}
.message-item.left { justify-content: flex-start; }
.message-item.right { justify-content: flex-end; }
.message-text {
  text-align: center;
  font-size: 16px;
  line-height: 1.5em;
  max-width: 250px;
  background: rgba(255,255,255,0.7);
  padding: 10px 15px;
  border-radius: 15px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
}
.message-img {
  width: 140px;
  height: 140px;
  object-fit: cover;
  border-radius: 15px;
  opacity: 0;
  transform: rotate(-8deg);
  transition: opacity 2.5s ease, transform 1.5s ease;
}
.overlay {
  position: fixed;
  top:0; left:0;
  width:100%; height:100%;
  background: rgba(0,0,0,0.5);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1000;
}
.music-box {
  background: white;
  padding: 20px 30px;
  border-radius: 12px;
  box-shadow: 0 5px 15px rgba(0,0,0,0.3);
  text-align: center;
}
.music-box button {
  margin: 10px; padding: 10px 20px;
  border-radius: 8px; border: none;
  cursor: pointer; background: #ee9ca7; color:white;
  transition: 0.3s;
}
.music-box button:hover { background:#ff758c; }

/* BALON ANIMASI */
.balloon {
  position: absolute;
  bottom: -100px;
  width: 50px;
  height: 70px;
  background: radial-gradient(circle at 30% 30%, #ff9ce1, #ff61a6);
  border-radius: 50%;
  opacity: 0.8;
  animation: floatUp linear infinite;
  z-index: 1; /* supaya muncul di belakang container */
}
@keyframes floatUp {
  0% { transform: translateY(0) rotate(0deg); opacity: 0; }
  10% { opacity: 0.8; }
  100% { transform: translateY(-110vh) rotate(360deg); opacity: 0.2; }
}

/* ASSETS CUTE */
.asset {
  position: absolute;
  font-size: 24px;
  opacity: 0.7;
  animation: moveAsset linear infinite;
  z-index: 1; /* supaya muncul di belakang container */
}
@keyframes moveAsset {
  0% { transform: translateY(0); }
  50% { transform: translateY(-20px); }
  100% { transform: translateY(0); }
}
</style>
</head>
<body>

<!-- Intro Overlay -->
<div id="introOverlay" style="
  position: fixed; top:0; left:0; width:100%; height:100%;
  background:black; display:flex; justify-content:center; align-items:center;
  flex-direction:column; z-index:2000;
">
  <p style="color:white; font-size:24px; margin-bottom:30px; text-align:center;">
    Kalo kamu Dedekk pencet lanjut
  </p>
  <button onclick="startIntro()" style="
    padding: 15px 40px; font-size:20px; background:white; color:black;
    border:none; border-radius:10px; cursor:pointer; transition:0.3s;
  " onmouseover="this.style.background='black'; this.style.color='white';"
    onmouseout="this.style.background='white'; this.style.color='black';">
    Lanjut
  </button>
</div>

<div class="container">
  <h2>üéÇ Selamat Ulang Tahun Dedekk! üéÇ</h2>

  <!-- Step 1: Nama -->
  <div id="step1" class="hidden">
    <input type="text" id="nameInput" placeholder="Masukkan nama panggilan" onclick="showMusicOverlay()">
    <button onclick="checkName()">Next</button>
    <p id="errorMsg" style="color:red;"></p>
  </div>

  <!-- Step 2a: Cewek Zaky -->
  <div id="step2a" class="hidden">
    <p>Kamu ceweknya Zaky apa bukan?</p>
    <select id="answerSelect1">
      <option value="">-- Pilih jawaban --</option>
      <option value="iya">Iya</option>
      <option value="bukan">Bukan</option>
    </select>
    <button onclick="checkZaky()">Next</button>
  </div>

  <!-- Step 2b: Tebak warna -->
  <div id="step2b" class="hidden">
    <p>Aku masih gayakin kalo ini Dedekk. Coba tebak apa warna kesukaan Dedekk?</p>
    <input type="text" id="answerInput" placeholder="Tebak warna kesukaan">
    <button onclick="verifyPink()">Verifikasi</button>
    <p class="result" id="verifyResult"></p>
    <button id="nextMessageBtn" class="hidden" onclick="goToMessages()">Lanjut ‚û°Ô∏è</button>
  </div>

  <!-- Step 3: Messages -->
  <div id="stepMessage" class="hidden">
    <div id="messageBox" class="message-box"></div>
  </div>
</div>

<!-- Music Overlay -->
<div id="musicOverlay" class="overlay hidden">
  <div class="music-box">
    <p>Mau pake background music nggak?</p>
    <button onclick="startMusic()">Iya</button>
    <button onclick="skipMusic()">Nggak</button>
  </div>
</div>

<audio id="bgMusic" preload="auto" loop>
  <source src="lala.mp3" type="audio/mpeg">
  Browser kamu tidak mendukung audio.
</audio>

<script>
// === BALON & ASSETS ===
function createBalloons(num){
  for(let i=0;i<num;i++){
    let b = document.createElement("div");
    b.classList.add("balloon");
    b.style.left = Math.random()*90 + "vw";
    b.style.width = 40+Math.random()*30+"px";
    b.style.height = 60+Math.random()*30+"px";
    b.style.animationDuration = 5 + Math.random()*5 + "s";
    document.body.appendChild(b);
  }
}
function createAssets(num){
  const icons = ["‚òÖ","üíñ","üéÄ","üç¨","üéµ","üéâ"];
  for(let i=0;i<num;i++){
    let a = document.createElement("div");
    a.classList.add("asset");
    a.style.left = Math.random()*95 + "vw";
    a.style.top = Math.random()*80 + "vh";
    a.textContent = icons[Math.floor(Math.random()*icons.length)];
    a.style.fontSize = 20 + Math.random()*20 + "px";
    a.style.animationDuration = 3 + Math.random()*4 + "s";
    document.body.appendChild(a);
  }
}
createBalloons(12);
createAssets(15);

// === LOGIC ===
let musicAsked = false;
const music = document.getElementById("bgMusic");
const messages = [
  "Happy Birthday, sayangku Dedekk! üíñ",
  "Aku pengen bilang, aku saaaayaaaangg banget sama kamu, cintakuuu, maniskuuu, duniakuuu, calon istrikuuu!!",
  "Semoga di umur baru inii, semua impian dan wish list kitaa bisaa kita wujudkan bareengg, darii hal-hal keciill saampaaii hal-hal besaaarr.",
  "Aku selaluu pengen dedekk sehat, bahagia setiap harii, dan semoga kitaa bisa hidup lebih lamaaa bareng, ngelewatin semuaa hal seru, konyoll, dan maniiss yang bikin kitaa senyum teruss.",
  "Tetap jadii dirii dedekk sendirii, yaawwww dekk.",
  "Dedekk nggak pernah sendiri, aku selalu ada di samping dedekk, walaupun kadang jarak memisahkan kitaaa.",
  "Maaciww sayangg udah selalu jadi dedekk yang lucuu, maniiss, manjaa, ngangeninn dan nggaa tergantikaann yawww.",
  "Akuu seeneeeenggggg baangett bisaa nemenin dedekk, ngerayaiin harii spesiall dedekkk, dan akuu harap setiapp momen tahunn inii penuhh tawaa, kejutan kecill, dan cintaa yang makin dalam antara kitaa yaww sayangg.",
  "Wopyuuuu dedekk banyakk banyakkk saayangkuu cintakuu! üíñ‚ú®"
];
const messageImages = ["l1.jpg","r1.jpg","l2.jpg","r2.jpg","l3.jpg","r3.jpg","l4.jpg","r4.jpg","l5.jpg"];

function startIntro(){
  document.getElementById("introOverlay").style.display = "none";
  document.getElementById("step1").classList.remove("hidden");
  document.getElementById("nameInput").focus();
}

function showMusicOverlay() {
  if(!musicAsked){
    document.getElementById("musicOverlay").classList.remove("hidden");
    musicAsked = true;
  }
}

function startMusic(){
  music.currentTime = 0;
  music.play().catch(err=>console.log(err));
  document.getElementById("musicOverlay").classList.add("hidden");
}

function skipMusic(){
  document.getElementById("musicOverlay").classList.add("hidden");
}

function checkName(){
  const name = document.getElementById("nameInput").value.trim().toLowerCase();
  const errorMsg = document.getElementById("errorMsg");
  if(name==="sayang" || name==="dedek"){
    errorMsg.textContent="";
    document.getElementById("step1").classList.add("hidden");
    document.getElementById("step2a").classList.remove("hidden");
  } else {
    errorMsg.textContent="Nama salah! coba masukin nama panggilan lain.";
  }
}

function checkZaky(){
  const answer = document.getElementById("answerSelect1").value;
  if(answer==="iya"){
    document.getElementById("step2a").classList.add("hidden");
    document.getElementById("step2b").classList.remove("hidden");
  } else if(answer==="bukan"){
    alert("husshhh!! kamuu bukann dedekk! jauhh jauhh!!üò°");
    location.reload();
  } else {
    alert("Pilih dulu jawabanmu!");
  }
}

function verifyPink(){
  const answer = document.getElementById("answerInput").value.trim().toLowerCase();
  const result = document.getElementById("verifyResult");
  const nextBtn = document.getElementById("nextMessageBtn");
  if(answer==="pink"){
    result.textContent="‚úÖ Terverifikasi";
    result.style.color="green";
    nextBtn.classList.remove("hidden");
  } else {
    result.textContent="‚ùå Warna salah! Coba lagi.";
    result.style.color="red";
    nextBtn.classList.add("hidden");
  }
}

function goToMessages(){
  document.getElementById("step2b").classList.add("hidden");
  document.getElementById("stepMessage").classList.remove("hidden");
  showMessages();
}

// === Typewriter Pesan ===
let msgIndex=0, charIndex=0, imgIndex=0;
const messageBox = document.getElementById("messageBox");
function showMessages(){
  msgIndex=0; charIndex=0; imgIndex=0; messageBox.innerHTML="";
  typeMessage();
}
function typeMessage(){
  if(msgIndex < messages.length){
    let currentMsg = messages[msgIndex];
    if(charIndex===0){
      const itemDiv = document.createElement("div");
      itemDiv.classList.add("message-item");
      itemDiv.classList.add(imgIndex % 2 === 0 ? "left" : "right");
      const p = document.createElement("p");
      p.classList.add("message-text");
      itemDiv.appendChild(p);
      if(imgIndex < messageImages.length){
        const img = document.createElement("img");
        img.src = messageImages[imgIndex];
        img.classList.add("message-img");
        itemDiv.appendChild(img);
        setTimeout(()=>{ img.style.opacity=1; img.style.transform="rotate(0deg)"; },200);
        imgIndex++;
      }
      messageBox.appendChild(itemDiv);
    }
    const p = messageBox.querySelector(".message-item:last-child .message-text");
    if(charIndex < currentMsg.length){
      p.textContent += currentMsg.charAt(charIndex);
      charIndex++;
      setTimeout(typeMessage,60);
    } else {
      charIndex=0;
      msgIndex++;
      setTimeout(typeMessage,400);
    }
  }
}
</script>
</body>
</html>

